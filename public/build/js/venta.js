function iniciarApp(){botonesCobro()}function botonesCobro(){document.querySelectorAll("#contenedorCobro .boton").forEach(e=>{e.addEventListener("click",(function(e){Cobro(e.target.id)}))})}function Cobro(e){const t=document.querySelector(".inputCobro"),o=document.querySelector("#tarjeta"),n=document.querySelector("#efectivo"),r=document.querySelector("#total"),a=document.querySelector("#totalefectivo"),c=document.querySelector(".inputCobro"),i=document.querySelector("#titulo"),l=document.querySelector("#venta"),d=document.querySelector("#header"),u=document.querySelector("#ticket"),s=document.createElement("p"),m=document.querySelector("#cambio");let p,v=parseInt(a.value),C=parseInt(a.value);if(t.id="","efectivo"===e){m.textContent="",t.id="1",t.placeholder="Efectivo",o.classList.remove("boton-verde"),n.classList.add("boton-verde");const e=C;r.textContent=e,p=e}if("tarjeta"===e){t.id="2",t.placeholder="Tarjeta",o.classList.add("boton-verde"),n.classList.remove("boton-verde");const e=v+.04*v;r.textContent=e,p=e,s.textContent=p-parseInt(c.value),m.appendChild(s)}if(parseInt(c.value)<p||""===c.value)return void mostrarAlerta("El importe es menor a total","error","#contenedorCobro",!0);s.textContent=p-parseInt(c.value);let b=s.textContent.slice(1);s.textContent=b,m.appendChild(s),console.log(b),i.classList.add("ocultar"),l.classList.add("ocultar"),d.classList.add("ocultar"),u.classList.remove("ocultar"),generarCobro()}async function eliminarVenta(){const e=document.querySelector("#folio"),t=document.querySelector("#idVendedor"),o=new FormData;o.append("id",e.textContent),o.append("usuarioId",t.value);try{const e=location.origin+"/api/eliminarVenta",t=await fetch(e,{method:"POST",body:o});(await t.json()).resultado&&Swal.fire({icon:"success",title:"Venta Generada",text:"Tu Venta fue creada correctamente",button:"OK"}).then(()=>{setTimeout(()=>{window.location.href=location.origin+"/ventas"},500)})}catch(e){Swal.fire({icon:"error",title:"error",text:"Hubo un error al generar la Venta"})}}function generarCobro(){window.print(),eliminarVenta()}function mostrarAlerta(e,t,o,n=!0){const r=document.querySelector(".alerta");r&&r.remove();const a=document.createElement("DIV");a.textContent=e,a.classList.add("alerta"),a.classList.add(t);document.querySelector(o).appendChild(a),n&&setTimeout(()=>{a.remove()},3e3)}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()})),botonClick=0;